<body>
<div class="row">
  <div class="col-lg-2">
  </div>
  <div class="col-lg-8">
    <div class="row mt-3">
      <div>
        <h3 class=" fw-bold text-dark mb-4 mt-5"><span style="box-shadow: 0 8px 15px lightblue; padding: 11px">
QUẢN LÝ TÀI KHOẢN</span></h3>
      </div>
      <div class="col-lg-4 col-12 col-md-6 text-center">
        <div style="box-shadow: 0 8px 15px lightblue">
          <div class="bg-warning">
            <img src="{{image}}"
                 height="200"
                 width="200" class="m-3">
          </div>
          <h3 style="color: black">{{customerName}}</h3>
                      <a>
                        <button (click)="whenLogout()" style="height: auto;width: auto" type="button" class="btn btn-danger">
                          Đăng xuất
                        </button>
                      </a>

                      <hr>
                      <a routerLink="/customer">
                        <span class="text-dark">Thông tin tài khoản</span>
                      </a>
                      <hr>
                      <a routerLink="/history">
                        <span class="text-dark">Lịch sử </span>
                      </a>
                      <hr>

        </div>
      </div>

      <div class="col-lg-8 col-12 c0l-md-6 table-responsive">

        <h2 class="text-dark text-center">Lịch sử</h2>
        <div class="row">
          <div class="col-lg-8"></div>
          <div class="col-lg-4">

          </div>
        </div>

        <table class="table table-striped table-hover " id="table-id">
          <thead>
          <tr class="bg-warning">
            <th scope="col">STT</th>
            <th scope="col">Tên phim</th>
            <th scope="col">Ngày đặt</th>
            <th scope="col">Số lương</th>
            <th scope="col">Tổng tiền(VNĐ)</th>
          </tr>
          </thead>
          <p class=" text-danger" *ngIf="!action">Không có dữ liệu</p>
          <tbody class="table-light" *ngIf="action">
          <tr *ngFor="let history of (historyDto$ | async)!; index as i">

            <td>{{i + 1 + (page - 1) * pageSize  }}</td>
            <td>{{history.name}}</td>
            <td>{{history.dayBooking | date:"dd/MM/yyyy HH:mm"}}</td>
            <td>{{history.quantity }}</td>
            <td>{{history.price | number }}</td>
          </tr>

          </tbody>
        </table>
        <div class="row">
          <div class="col-lg-6">
            <div *ngIf="action">
              <span class="fw-bold text-light"> </span>
              <select class="form-control-sm" style="width: auto" [(ngModel)]="pageSize"
                      (ngModelChange)="getAllHistory()">
                <option [ngValue]="5">Hiển thị 5 trên dòng</option>
                <option [ngValue]="10">Hiển thị 10 trên dòng</option>
                <option [ngValue]="15">Hiển thị 15 trên dòng</option>
                <option [ngValue]="20">Hiển thị 20 trên dòng</option>
                <option [ngValue]="10000">Hiển thị tất cả</option>
              </select>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="d-flex justify-content-between  text-white" *ngIf="action">
              <ngb-pagination
                [collectionSize]="(total$ | async)!"
                [(page)]="page"
                [maxSize]="pageSize"
                [pageSize]="pageSize"
                (pageChange)="getAllHistory()">
                <ng-template ngbPaginationNumber let-page>{{ page }}</ng-template>
              </ngb-pagination>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="col-lg-2"></div>
<h1>.</h1>
<!--</div>-->
</body>



